-- Migration for RISE MVP\n\n-- Enable RLS for the tables\nALTER TABLE users ENABLE ROW LEVEL SECURITY;\nALTER TABLE posts ENABLE ROW LEVEL SECURITY;\n\n-- Create users table\nCREATE TABLE users (\n    id SERIAL PRIMARY KEY,\n    username VARCHAR(50) UNIQUE NOT NULL,\n    email VARCHAR(100) UNIQUE NOT NULL,\n    password_hash TEXT NOT NULL,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create posts table\nCREATE TABLE posts (\n    id SERIAL PRIMARY KEY,\n    user_id INT REFERENCES users(id) ON DELETE CASCADE,\n    content TEXT NOT NULL,\n    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP\n);\n\n-- Create policies for users\nCREATE POLICY "Users can access their own data" \nON users \nFOR SELECT\nUSING (auth.uid() = id);\n\n-- Create policies for posts\nCREATE POLICY "Users can access their own posts"\nON posts \nFOR SELECT\nUSING (user_id = auth.uid());\n